<!DOCTYPE HTML>
<html>
	<head>
		<script src='https://cdn.firebase.com/js/client/2.2.1/firebase.js'></script>
		<script src='https://ajax.googleapis.com/ajax/libs/jquery/1.11.1/jquery.min.js'></script>
		<script src='lib/js/bootstrap.min.js'></script>
		<link rel='stylesheet' type='text/css' href='lib/css/bootstrap.min.css'>
		<link rel='stylesheet' type='text/css' href='lib/css/bootstrap-theme.min.css'>
		<link rel='stylesheet' type='text/css' href='lib/css/main.css'>
	</head>
	
	<body>
		
		<div class="container" style="padding: 20% 0 0 30%">
			
			<form class="form-horizontal" role="form">
			
				<div class="form-group">
					<label class="control-label col-sm-2" for="email">Email:</label>
					<div class="col-sm-10">
						<input type="email" class="form-control" id="email" placeholder="Enter email" style="width:30%">
					</div>
				</div>
				<div class="form-group">
					<label class="control-label col-sm-2" for="pwd">Password:</label>
					<div class="col-sm-10">          
						<input type="password" class="form-control" id="pwd" placeholder="Enter password" style="width:30%">
					</div>
				</div>
				<div class="form-group">        
				  <div class="col-sm-offset-2 col-sm-10">
					<button type="button" class="btn btn-default" id="enterButton">Enter</button>
				  </div>
				</div>
		  </form>
		</div>
  
  

		<script>
			var dbRef = new Firebase('https://orderingsystem.firebaseio.com/');
			
			//for password input
			
			
			$('#pwd').keypress(function (e) {
				if (e.keyCode == 13) {
					authenticateUser();
				}
			});
						
			function authenticateUser() {
				var email = $('#email').val();
				var pw = $('#pwd').val();
				dbRef.authWithPassword({
					"email": email,
					"password": pw
				}, function(error, authData) {
					if(error) {
						console.log("Login Failed!", error);
						alert('Login Failed!');
						$('#pwd').val('');
					}
					else {
						console.log("Authenticated successfully with payload:", authData);
						alert('Authenticated successfully.');
					}
				});
			}			
			
		</script>
	</body>
</html>